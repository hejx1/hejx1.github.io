---
layout: post
title: JAVA位运算符的应用积累
date: 2017-07-26
tags: java
---

### 概述

位运算是以二进制位为单位进行的运算，其操作数和运算结果都是整型值。 
位与'&'，位或'|'，位非'~'，位异或'^'，右移'>>'，左移'<<'，0填充的右移'>>>' 
位运算的位与'&'，位或'|'，位非'~'，位异或'^'与逻辑运算的相应操作的真值表完全相同，其差别只是位运算操作的操作数和运算结果都是二进制整数，而逻辑运算相应操作的操作数和运算结果都是逻辑值boolean型。 

![image](http://img.blog.csdn.net/20150412042120248?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvdHlwYTAxX2tr/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center)

## 应用积累

### 类型集合

当某一个对象拥有多种权限或行为时,我们常规的做法是在对象里建立一个集合来存储对象的多种权限或行为。其实这里我们可以使用位运算符的"位与"来实现这种需求。具体代码如下：

Activity



```
/**
 * Created by 追风少年
 *
 * @email doubihah@foxmail.com
 * @create 2017-07-26 17:45
 **/
public abstract class Activity {

    /**
     * 是否具有指定类型
     * @param activitys 所有行为
     * @param activity 要检查拥有的行为
     * @return
     */
    public static boolean checkHasActivityType(int activitys,int activity) {
        // 位与( & )
        // 位与：第一个操作数的的第n位于第二个操作数的第n位如果都是1，那么结果的第n为也为1，否则为0
        return (activitys & activity) != 0;
    }

}
```

MaJiangActivity



```
/**
 * Created by 追风少年
 * 麻将行为
 * @email doubihah@foxmail.com
 * @create 2017-07-26 17:30
 **/
public class MaJiangActivity extends Activity{

    /**
     * 过
     */
    public static int Pass = 1;

    /**
     * 碰牌
     */
    public static int Peng = 1 << 1;

    /**
     * 明杠
     */
    public static int MingGang = 1 << 2;

    /**
     * 暗杠
     */
    public static int AnGang = 1 << 3;

    /**
     * 巴杠
     */
    public static int BaGang = 1 << 4;

    /**
     * 得到用户所拥有的行为
     * @return 玩家所拥有的行为集合
     */
    public static int getUserActivity(){
        int userActivity = 0; // 玩家拥有的行为,可能为多个
        boolean canBaGang = true;
        if (canBaGang) userActivity += MaJiangActivity.BaGang;
        boolean canAnGang = true;
        if (canAnGang) userActivity += MaJiangActivity.AnGang;
        return userActivity;
    }

    // 程序入口
    public static void main(String[] args) {
        int userActivity = getUserActivity();
        if(Activity.checkHasActivityType(userActivity,MaJiangActivity.AnGang)){
            // 检查用户是否具有暗杠行为
            System.out.println("具有暗杠行为...");
        }
        if(!Activity.checkHasActivityType(userActivity,MaJiangActivity.Pass)){
            // 检查用户是否不具有过的行为
            System.out.println("不具有过行为...");
        }
    }

}
```